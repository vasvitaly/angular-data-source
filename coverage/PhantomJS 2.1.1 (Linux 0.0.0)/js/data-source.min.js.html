<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for js/data-source.min.js</title>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="../prettify.css" />
    <link rel="stylesheet" href="../base.css" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style type='text/css'>
        .coverage-summary .sorter {
            background-image: url(../sort-arrow-sprite.png);
        }
    </style>
</head>
<body>
<div class='wrapper'>
  <div class='pad1'>
    <h1>
      <a href="../index.html">all files</a> / <a href="index.html">js/</a> data-source.min.js
    </h1>
    <div class='clearfix'>
      <div class='fl pad1y space-right2'>
        <span class="strong">100% </span>
        <span class="quiet">Statements</span>
        <span class='fraction'>57/57</span>
      </div>
      <div class='fl pad1y space-right2'>
        <span class="strong">100% </span>
        <span class="quiet">Branches</span>
        <span class='fraction'>94/94</span>
      </div>
      <div class='fl pad1y space-right2'>
        <span class="strong">100% </span>
        <span class="quiet">Functions</span>
        <span class='fraction'>26/26</span>
      </div>
      <div class='fl pad1y space-right2'>
        <span class="strong">100% </span>
        <span class="quiet">Lines</span>
        <span class='fraction'>1/1</span>
      </div>
    </div>
  </div>
  <div class='status-line high'></div>
<pre><table class="coverage">
<tr><td class="line-count quiet">1</td><td class="line-coverage quiet"><span class="cline-any cline-yes">77Ã—</span></td><td class="text"><pre class="prettyprint lang-js">"use strict";angular.module("vasvitaly.angular-data-source",[]).factory("vvvDataSource",["$filter","$injector",function($filter,$injector){var DataSource,DEFAULTS={perPage:20};return DataSource=function(modelClass,options){var self,initialFilter,newItemDefaults,baseOptions,callBack,filterOnServer,sorting,pagination;if(self=this,null==options&amp;&amp;(options={}),null==modelClass)throw new TypeError("modelClass should be angular resource like class");if(!modelClass.query||!angular.isFunction(modelClass.query))throw new TypeError("modelClass should have query method");initialFilter=options.clearFilter||{},newItemDefaults=options.newItemDefaults||{},baseOptions={},callBack=null,filterOnServer=!1,self.filter=options.filter||{},sorting=angular.extend({fieldId:"",desc:!1},options.sorting||{}),pagination={perPage:options.perPage&amp;&amp;options.perPage&gt;0?options.perPage:DEFAULTS.perPage,page:options.page&amp;&amp;options.page&gt;-1?options.page:1};var doQuery=function(){var options={};return angular.copy(baseOptions,options),getOptions(options),self.rows=modelClass.query(options,function(results){var pinfo;return results&amp;&amp;results.length&amp;&amp;results[results.length-1].pagination&amp;&amp;(pinfo=results.pop().pagination,angular.copy(pinfo,pagination)),filterOnServer||(filterOnServer=isFiltered()||isServerPaginated()),callBack&amp;&amp;callBack(results),results}),self.rows},getOptions=function(options){return isPaginated()&amp;&amp;(options.page=pagination.page),isSorted()&amp;&amp;(options.sortby=sorting.fieldId,options.desc=sorting.desc),isFiltered()&amp;&amp;(options.filter=getFilters()),options},isPaginated=function(){var maxPage;return pagination.totalCount&amp;&amp;pagination.perPage&amp;&amp;pagination.page?(maxPage=Math.ceil(pagination.totalCount/pagination.perPage),maxPage&gt;1):!1},isServerPaginated=function(){return!pagination.locally&amp;&amp;isPaginated()},isSorted=function(){return sorting&amp;&amp;sorting.fieldId&amp;&amp;sorting.fieldId&gt;""},isFiltered=function(){var key,value;for(key in self.filter)if(value=self.filter[key],void 0!==value&amp;&amp;""!==value)return!0;return!1},getFilters=function(){return getNotEmpty(self.filter)},getNotEmpty=function(obj){var key,value,res,fname;if(res=null,!angular.isObject(obj))return obj;for(key in obj)value=getNotEmpty(obj[key]),void 0!=value&amp;&amp;null!=value&amp;&amp;""!==value&amp;&amp;(fname=key,0==fname.indexOf("__")&amp;&amp;(fname=fname.replace(/^__/,"")),null==res&amp;&amp;(res={}),res[fname]=value);return res},prepareFilters=function(filter){var filters,key,val,fname;filters={filter:{}};for(key in filter)val=filter[key],0==key.indexOf("__")?(fname=key.replace(/^__/,""),filters[fname]=val):filters.filter[key]=val;return filters},getPaged=function(data){var begin;return pagination.totalCount=data.length,null==pagination.perPage&amp;&amp;(pagination.perPage=DEFAULTS.perPage),null==pagination.page&amp;&amp;(pagination.page=1),pagination.locally=!0,begin=(pagination.page-1)*pagination.perPage,$filter("limitTo")(data,pagination.perPage,begin)};return self.query=function(opts,callBackFunc){return baseOptions=opts,callBack=callBackFunc,self.rows=doQuery(),self.rows},self.paginate=function(page){return pagination.page==page?!1:(pagination.page=page,isServerPaginated()&amp;&amp;doQuery(),!0)},self.paginationInfo=function(){return pagination},self.sortingInfo=function(){return sorting},self.sortBy=function(fieldId){return sorting.fieldId===fieldId?sorting.desc=!sorting.desc:(sorting.fieldId=fieldId,sorting.desc=!1),pagination.page=1,filterOnServer&amp;&amp;doQuery(),!0},self.isOrderedByField=function(fieldId){return sorting.fieldId===fieldId},self.applyFilter=function(){return filterOnServer?(pagination.page=1,doQuery(),!0):!1},self.clearFilter=function(){return angular.copy(initialFilter,self.filter),self.applyFilter()},self.filteredRows=function(){var filters,res,filterName,filterData;filters=prepareFilters(self.filter),res=self.rows;for(filterName in filters)filterData=filters[filterName],$injector.has(filterName+"Filter")&amp;&amp;filterData&amp;&amp;(res=$filter(filterName)(res,filterData));return sorting&amp;&amp;sorting.fieldId&amp;&amp;(res=$filter("orderBy")(res,sorting.fieldId,sorting.desc)),(pagination.locally||!pagination.perPage||res.length&gt;pagination.perPage)&amp;&amp;(res=getPaged(res)),res},self.newRecord=function(attrs){var data;return data={},angular.copy(newItemDefaults,data),angular.isObject(attrs)&amp;&amp;angular.extend(data,attrs),new modelClass(data)},self.add=function(row){return self.rows.unshift(row)},self.remove=function(id){return angular.forEach(self.rows,function(row,idx){return row.id===id?self.rows.splice(idx,1):void 0})},self}}]);</pre></td></tr>
</table></pre>
<div class='push'></div><!-- for sticky footer -->
</div><!-- /wrapper -->
<div class='footer quiet pad2 space-top1 center small'>
  Code coverage
  generated by <a href="http://istanbul-js.org/" target="_blank">istanbul</a> at Mon Sep 05 2016 15:31:14 GMT+0200 (CEST)
</div>
</div>
<script src="../prettify.js"></script>
<script>
window.onload = function () {
        if (typeof prettyPrint === 'function') {
            prettyPrint();
        }
};
</script>
<script src="../sorter.js"></script>
</body>
</html>
